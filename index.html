<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Green Garden - Посадка растений и ландшафтные услуг</title>
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Swiper (для слайдеров) -->
    <link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css"/>
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        :root {
            --primary: #28a745;
            --secondary: #f8f9fa;
        }
        .hero-slider { height: 500px; }
        .product-card { 
            transition: transform 0.3s, box-shadow 0.3s; 
            height: 100%;
        }
        .product-card:hover { 
            transform: translateY(-10px); 
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .cart-badge {
            position: absolute;
            top: -5px;
            right: -5px;
        }
        .offcanvas-cart {
            width: 400px;
        }
        .cart-item-img {
            width: 80px;
            height: 80px;
            object-fit: cover;
        }
        .product-img {
            height: 200px;
            object-fit: cover;
        }
        .cart-empty {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 300px;
            text-align: center;
        }
        .landscape-section {
            background-color: #e9f5e9;
            padding: 60px 0;
        }
        .service-card {
            height: 100%;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .service-header {
            background-color: var(--primary);
            color: white;
            padding: 15px;
        }
        .service-body {
            background: white;
            padding: 20px;
            height: calc(100% - 54px);
        }
        .price-badge {
            font-size: 1.1rem;
            padding: 5px 10px;
            background-color: #ffc107;
            color: #212529;
            border-radius: 20px;
        }
        .accordion-button:not(.collapsed) {
            background-color: #d4edda;
            color: #155724;
        }
        .whatsapp-btn {
            background-color: #25D366;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .whatsapp-btn:hover {
            background-color: #128C7E;
            color: white;
        }
        .add-service-btn {
            margin-top: 15px;
        }
        .service-price {
            font-weight: bold;
            margin-top: 10px;
        }
        .checkout-form {
            max-width: 600px;
            margin: 0 auto;
            padding: 30px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        .form-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #6c757d;
        }
        .form-group-icon {
            position: relative;
        }
        .form-control-icon {
            padding-left: 40px;
        }
        .step-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }
        .step {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 10px;
            font-weight: bold;
        }
        .step.active {
            background: var(--primary);
            color: white;
        }
    </style>
</head>
<body>
    <!-- Шапка сайта -->
    <header class="bg-success text-white py-3">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <h1 class="mb-0">Green Garden</h1>
                    <p class="mb-0">Посадка растений и ландшафтные услуг в Алматы</p>
                </div>
                <div class="d-flex align-items-center">
                    <div class="position-relative me-4">
                        <button class="btn btn-link p-0 text-white" data-bs-toggle="offcanvas" data-bs-target="#cartOffcanvas">
                            <i class="bi bi-cart3" style="font-size: 1.5rem;"></i>
                        </button>
                        <span class="cart-badge badge bg-danger rounded-circle" id="cart-badge">0</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Навигация -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item"><a href="#" class="nav-link active">Главная</a></li>
                    <li class="nav-item"><a href="#plants" class="nav-link">Растения</a></li>
                    <li class="nav-item"><a href="#landscape" class="nav-link">Ландшафтные услуги</a></li>
                    <li class="nav-item"><a href="#podwal" class="nav-link">О нас</a></li>
                    <li class="nav-item"><a href="#podwal" class="nav-link">Доставка</a></li>
                    <li class="nav-item"><a href="#podwal" class="nav-link">Контакты</a></li>
                </ul>
                <form class="d-flex">
                    <input class="form-control me-2" type="search" placeholder="Поиск растений...">
                    <button class="btn btn-success" type="submit">Найти</button>
                </form>
            </div>
        </div>
    </nav>

    <!-- Слайдер (Swiper) -->
    <section class="py-5">
        <div class="container">
            <div class="swiper hero-slider">
                <div class="swiper-wrapper">
                    <div class="swiper-slide bg-success text-white p-5 rounded">
                        <h2>Скидка 20% на все цветы!</h2>
                        <p>Только до конца месяца</p>
                        <button class="btn btn-light">Подробнее</button>
                    </div>
                    <div class="swiper-slide bg-info text-white p-5 rounded">
                        <h2>Ландшафтные услуги со скидкой</h2>
                        <p>Укладка газона от 2000 ₸/м²</p>
                        <button class="btn btn-light">Подробнее</button>
                    </div>
                    <div class="swiper-slide bg-warning text-dark p-5 rounded">
                        <h2>Новые поставки материалов</h2>
                        <p>Декоративная галька, кора лиственницы, бордюрная лента</p>
                        <button class="btn btn-light">Смотреть</button>
                    </div>
                </div>
                <div class="swiper-pagination"></div>
            </div>
        </div>
    </section>

    <!-- Раздел ландшафтных услуг -->
    <section id="landscape" class="landscape-section">
        <div class="container">
            <h2 class="text-center mb-5">Ландшафтные услуги и товары</h2>
            
            <!-- Услуги -->
            <div class="mb-5">
                <h3 class="text-center mb-4">Наши услуги</h3>
                <div class="row g-4" id="services-container">
                    <!-- Услуги будут загружены через JS -->
                </div>
            </div>
            
            <!-- Товары -->
            <div class="mb-5">
                <h3 class="text-center mb-4">Ландшафтные товары</h3>
                <div class="row g-4" id="landscape-products-container">
                    <!-- Товары будут загружены через JS -->
                </div>
            </div>
            
            <!-- Полный прайс-лист -->
            <div class="mt-5">
                <h3 class="text-center mb-4">Полный прайс-лист</h3>
                
                <div class="accordion" id="priceAccordion">
                    <!-- Услуги -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingServices">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseServices" aria-expanded="true">
                                Цены на услуги
                            </button>
                        </h2>
                        <div id="collapseServices" class="accordion-collapse collapse show" aria-labelledby="headingServices">
                            <div class="accordion-body">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>Услуга</th>
                                            <th>Цена</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Укладка газона</td>
                                            <td>от 2 500 ₸/м²</td>
                                        </tr>
                                        <tr>
                                            <td>Посев газона</td>
                                            <td>от 2 000 ₸/м²</td>
                                        </tr>
                                        <tr>
                                            <td>Установка автополива (Hunter)</td>
                                            <td>от 800 000 ₸</td>
                                        </tr>
                                        <tr>
                                            <td>Установка бордюрной ленты</td>
                                            <td>от 1 000 ₸/м</td>
                                        </tr>
                                        <tr>
                                            <td>Посадка растений</td>
                                            <td>от 5 000 ₸/шт</td>
                                        </tr>
                                        <tr>
                                            <td>Ландшафтный дизайн (с визуализацией)</td>
                                            <td>от 100 000 ₸/100м²</td>
                                        </tr>
                                        <tr>
                                            <td>Ландшафтный дизайн (без визуализации)</td>
                                            <td>от 50 000 ₸</td>
                                        </tr>
                                        <tr>
                                            <td>Укладка брусчатки</td>
                                            <td>от 5 000 ₸/м²</td>
                                        </tr>
                                        <tr>
                                            <td>Установка освещения</td>
                                            <td>от 5 000 ₸/шт</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Товары -->
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingGoods">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseGoods">
                                Цены на товары
                            </button>
                        </h2>
                        <div id="collapseGoods" class="accordion-collapse collapse" aria-labelledby="headingGoods">
                            <div class="accordion-body">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>Товар</th>
                                            <th>Цена</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Рулонный газон</td>
                                            <td>от 2 800 ₸/м²</td>
                                        </tr>
                                        <tr>
                                            <td>Посевной газон</td>
                                            <td>от 3 500 ₸/кг</td>
                                        </tr>
                                        <tr>
                                            <td>Удобрение НПК</td>
                                            <td>от 3 000 ₸/кг</td>
                                        </tr>
                                        <tr>
                                            <td>Декоративная галька</td>
                                            <td>от 4 500 ₸/25кг</td>
                                        </tr>
                                        <tr>
                                            <td>Кора лиственницы</td>
                                            <td>от 3 500 ₸/мешок</td>
                                        </tr>
                                        <tr>
                                            <td>Бордюрная лента с колышками</td>
                                            <td>от 15 000 ₸/15м</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Добавить после раздела ландшафтных услуг и перед разделом растений -->
<section id="portfolio" class="py-5 bg-light">
    <div class="container">
        <h2 class="text-center mb-5">Наши работы</h2>
        <div class="row g-4">
            <!-- Галерея из 12 работ -->
            <div class="col-md-4 col-6">
                <div class="portfolio-item position-relative overflow-hidden rounded">
                    <img src="work1.jpg" class="img-fluid" alt="Работа 1" loading="lazy" width="400px" height="300px">
                    <div class="portfolio-overlay d-flex align-items-center justify-content-center">
                        <div class="text-center text-white p-3">
                            <h5>Ландшафтный дизайн</h5>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 col-6">
                <div class="portfolio-item position-relative overflow-hidden rounded">
                    <img src="C:\Users\ASUS\OneDrive\Рабочий стол\AAA\work2.jpg" class="img-fluid" alt="Работа 2" loading="lazy" >
                    <div class="portfolio-overlay d-flex align-items-center justify-content-center">
                        <div class="text-center text-white p-3">
                            <h5>Ландшафтный дизайн</h5>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 col-6">
                <div class="portfolio-item position-relative overflow-hidden rounded">
                    <img src="C:\Users\ASUS\OneDrive\Рабочий стол\AAA\work3.jpg" class="img-fluid" alt="Работа 3" loading="lazy">
                    <div class="portfolio-overlay d-flex align-items-center justify-content-center">
                        <div class="text-center text-white p-3">
                            <h5>Ландшафтный дизайн</h5>
                        </div>
                    </div>
                </div>
            </div>
             <div class="col-md-4 col-6">
                <div class="portfolio-item position-relative overflow-hidden rounded">
                    <img src="C:\Users\ASUS\OneDrive\Рабочий стол\AAA\work4.jpg" class="img-fluid" alt="Работа 4" loading="lazy">
                    <div class="portfolio-overlay d-flex align-items-center justify-content-center">
                        <div class="text-center text-white p-3">
                            <h5>Ландшафтный дизайн</h5>
                        </div>
                    </div>
                </div>
            </div>
                        <div class="col-md-4 col-6">
                <div class="portfolio-item position-relative overflow-hidden rounded">
                    <img src="C:\Users\ASUS\OneDrive\Рабочий стол\AAA\work5.jpg" class="img-fluid" alt="Работа 5" loading="lazy" width="400px" height="300px">
                    <div class="portfolio-overlay d-flex align-items-center justify-content-center">
                        <div class="text-center text-white p-3">
                            <h5>Декорация</h5>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 col-6">
                <div class="portfolio-item position-relative overflow-hidden rounded">
                    <img src="C:\Users\ASUS\OneDrive\Рабочий стол\AAA\work6.jpg" class="img-fluid" alt="Работа 6" loading="lazy" >
                    <div class="portfolio-overlay d-flex align-items-center justify-content-center">
                        <div class="text-center text-white p-3">
                            <h5>Декорация</h5>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 col-6">
                <div class="portfolio-item position-relative overflow-hidden rounded">
                    <img src="C:\Users\ASUS\OneDrive\Рабочий стол\AAA\work7.jpg" class="img-fluid" alt="Работа 7" loading="lazy">
                    <div class="portfolio-overlay d-flex align-items-center justify-content-center">
                        <div class="text-center text-white p-3">
                            <h5>Озеленение территории</h5>
                        </div>
                    </div>
                </div>
            </div>
             <div class="col-md-4 col-6">
                <div class="portfolio-item position-relative overflow-hidden rounded">
                    <img src="C:\Users\ASUS\OneDrive\Рабочий стол\AAA\work8.jpg" class="img-fluid" alt="Работа 8" loading="lazy">
                    <div class="portfolio-overlay d-flex align-items-center justify-content-center">
                        <div class="text-center text-white p-3">
                            <h5>Озеленение территории</h5>
                        </div>
                    </div>
                </div>
            </div>
                        <div class="col-md-4 col-6">
                <div class="portfolio-item position-relative overflow-hidden rounded">
                    <img src="C:\Users\ASUS\OneDrive\Рабочий стол\AAA\work9.jpg" class="img-fluid" alt="Работа 9" loading="lazy" width="400px" height="300px">
                    <div class="portfolio-overlay d-flex align-items-center justify-content-center">
                        <div class="text-center text-white p-3">
                            <h5>Озеленение территории</h5>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 col-6">
                <div class="portfolio-item position-relative overflow-hidden rounded">
                    <img src="C:\Users\ASUS\OneDrive\Рабочий стол\AAA\work10.jpg" class="img-fluid" alt="Работа 10" loading="lazy" >
                    <div class="portfolio-overlay d-flex align-items-center justify-content-center">
                        <div class="text-center text-white p-3">
                            <h5>Декорация</h5>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 col-6">
                <div class="portfolio-item position-relative overflow-hidden rounded">
                    <img src="C:\Users\ASUS\OneDrive\Рабочий стол\AAA\work11.jpg" class="img-fluid" alt="Работа 11" loading="lazy">
                    <div class="portfolio-overlay d-flex align-items-center justify-content-center">
                        <div class="text-center text-white p-3">
                            <h5>Декорация</h5>
                        </div>
                    </div>
                </div>
            </div>
             <div class="col-md-4 col-6">
                <div class="portfolio-item position-relative overflow-hidden rounded">
                    <img src="C:\Users\ASUS\OneDrive\Рабочий стол\AAA\work12.jpg" class="img-fluid" alt="Работа 12" loading="lazy">
                    <div class="portfolio-overlay d-flex align-items-center justify-content-center">
                        <div class="text-center text-white p-3">
                            <h5>Декорация</h5>
                        </div>
                    </div>
                </div>
            </div>
                <div class="col-md-4 col-6">
                    <div class="portfolio-item position-relative overflow-hidden rounded">
                        <img src="C:\Users\ASUS\OneDrive\Рабочий стол\AAA\work13.jpg" class="img-fluid" alt="Работа 13" loading="lazy" style="width: 300; height: 300;">
                            <div class="portfolio-overlay d-flex align-items-center justify-content-center">
                                <div class="text-center text-white p-3">
                            <h5>Логотип</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</section>

    <!-- Каталог товаров (растения) -->
    <section id="plants" class="py-5 bg-light">
        <div class="container">
            <h2 class="text-center mb-5">Популярные растения</h2>
            <div class="row" id="products-container">
                <!-- Товары будут загружены через JS -->
            </div>
        </div>
    </section>

    <!-- Подвал -->
    <footer class="bg-dark text-white py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <h5>Контакты</h5>
                    <p>+7 (747) 699-94-31</p>
                    <p>
                        <a href="https://wa.me/77476999431" class="btn whatsapp-btn mt-2">
                            <i class="bi bi-whatsapp"></i> WhatsApp: 8 747 699 94 31
                        </a>
                    </p>
                </div>
                <div class="col-md-4 mb-3" id="podwal">
                    <h5>Мы в соцсетях</h5>
                    <div class="d-flex">
                        <a href="https://instagram.com/green_garden.almaty" class="text-white me-3">Instagram</a>
                        <a href="https://www.facebook.com/profile.php?id=61575263883161&mibextid=wwXIfr" class="text-white">Facebook</a>
                    </div>
                    <h5 class="mt-3">Услуги</h5>
                    <p>Ландшафтный дизайн<br>Озеленение<br>Системы полива</p>
                </div>
                <div class="col-md-4">
                    <h5>Оплата и доставка</h5>
                    <p>Принимаем Kaspi, наличные</p>
                    <p>Доставка по всему городу</p>
                    <p>Работаем с 9:00 до 20:00</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Offcanvas Корзина -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="cartOffcanvas">
        <div class="offcanvas-header bg-success text-white me-3">
            <h5 class="offcanvas-title">Ваша корзина</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
        </div>
        <div class="offcanvas-body p-0">
            <div id="cart-items-container">
                <!-- Товары в корзине будут загружены здесь -->
            </div>
            <div class="p-3 border-top">
                <div class="d-flex justify-content-between mb-2">
                    <span>Итого:</span>
                    <strong id="cart-total-price">0 ₸</strong>
                </div>
                <button class="btn btn-success w-100 mt-3" id="checkout-btn">
                    <i class="bi bi-whatsapp me-2"></i> Оформить заказ
                </button>
            </div>
        </div>
    </div>

    <!-- Модальное окно оформления заказа -->
    <div class="modal fade" id="checkoutModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title">Оформление заказа</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="step-indicator">
                        <div class="step active">1</div>
                        <div class="step">2</div>
                    </div>
                    
                    <div id="checkout-step-1">
                        <div class="checkout-form">
                            <h4 class="mb-4 text-center">Контактная информация</h4>
                            
                            <div class="mb-3 form-group-icon">
                                <i class="bi bi-person form-icon"></i>
                                <input type="text" class="form-control form-control-icon" id="customer-name" placeholder="Ваше имя" required>
                            </div>
                            
                            <div class="mb-3 form-group-icon">
                                <i class="bi bi-telephone form-icon"></i>
                                <input type="tel" class="form-control form-control-icon" id="customer-phone" placeholder="Ваш телефон" required>
                            </div>
                            
                            <div class="mb-3 form-group-icon">
                                <i class="bi bi-envelope form-icon"></i>
                                <input type="email" class="form-control form-control-icon" id="customer-email" placeholder="Ваш Email">
                            </div>
                            
                            <div class="mb-3 form-group-icon">
                                <i class="bi bi-geo-alt form-icon"></i>
                                <textarea class="form-control form-control-icon" id="customer-address" placeholder="Адрес доставки" rows="2" required></textarea>
                            </div>
                            
                            <div class="mb-3">
                                <label for="customer-comment" class="form-label">Комментарий к заказу</label>
                                <textarea class="form-control" id="customer-comment" placeholder="Особые пожелания или примечания" rows="3"></textarea>
                            </div>
                            
                            <button class="btn btn-success w-100 mt-4" id="next-to-review">Далее →</button>
                        </div>
                    </div>
                    
                    <div id="checkout-step-2" style="display: none;">
                        <div class="checkout-form">
                            <h4 class="mb-4 text-center">Подтверждение заказа</h4>
                            
                            <div class="card mb-4">
                                <div class="card-header bg-light">
                                    <h5>Ваши контактные данные</h5>
                                </div>
                                <div class="card-body">
                                    <p><strong>Имя:</strong> <span id="review-name"></span></p>
                                    <p><strong>Телефон:</strong> <span id="review-phone"></span></p>
                                    <p><strong>Email:</strong> <span id="review-email"></span></p>
                                    <p><strong>Адрес доставки:</strong> <span id="review-address"></span></p>
                                    <p><strong>Комментарий:</strong> <span id="review-comment"></span></p>
                                </div>
                            </div>
                            
                            <div class="card">
                                <div class="card-header bg-light">
                                    <h5>Состав заказа</h5>
                                </div>
                                <div class="card-body">
                                    <div id="review-items-container"></div>
                                    <div class="d-flex justify-content-between mt-3">
                                        <h5>Итого:</h5>
                                        <h5 id="review-total-price">0 ₸</h5>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-4 d-flex justify-content-between">
                                <button class="btn btn-secondary" id="back-to-form">← Назад</button>
                                <button class="btn btn-success" id="confirm-order">
                                    <i class="bi bi-whatsapp me-2"></i> Отправить заказ в WhatsApp
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Скрипты -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>
    <script>
        // Инициализация слайдера
        const swiper = new Swiper('.hero-slider', {
            loop: true,
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            autoplay: {
                delay: 5000,
            },
        });

        // Товары (растения)
        const plants = [
            {id: 1, name: "Туя 1 метр от", price: 10000, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTdLHdPJtNgdSKsk1-zAfa2xjg6Rd6K0F0Jig&s", type: "plant"},
            {id: 2, name: "Сосна обыкнавенная 2-3 метра от", price: 25000, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR0B-j15S0-UlujG8SR0FBliRWFsE7mo3ey2w&s", type: "plant"},
            {id: 3, name: "Можевельник от", price: 12000, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcST4lmrY1U23kWcCFoxUE6vSPK9WLF_Qkr7eQ&s", type: "plant"},
            {id: 4, name: "Туя шаровидная от", price: 15000, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHfMhdJtOOXtEpS-8gx-W_DF71WHz3fi7HJw&s", type: "plant"},
            {id: 5, name: "Гортензия от", price: 8000, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSTwdHt0BcOCU-JIN6AZ1n7n45yOH7dH97DLA&s", type: "plant"},
            {id: 6, name: "Барбарис от", price: 8000, image: "https://plodopitomnik-sad.kz/upload/resize_cache/iblock/2d9/9eyiravspyfl9gnc8exs4s0w0ck10dmr/400_400_1/Atropurpurea-nana.jpg", type: "plant"},
            {id: 7, name: "Ирис от", price: 8000, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRA7L33VvU1NaI2CmciLLfM4JdT0erM8UvFSQ&s", type: "plant"},
            {id: 8, name: "Лаванда от", price: 8000, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSAmvozNypFtg6T101-Kndkb1picrNMb7Tvsw&s", type: "plant"},
        ];

        // Ландшафтные товары
        const landscapeProducts = [
            {id: 101, name: "Рулонный газон", price: 2800, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSx05ibuIvnoTBTg_HVW-B-T9dHXDd1zOl_wA&s", type: "landscape-product", unit: "м²"},
            {id: 102, name: "Семена газонных трав", price: 3500, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJ43SFqBOwFeYX2JLl9lEAKv_Ahnx_V6E3Iw&s", type: "landscape-product", unit: "кг"},
            {id: 103, name: "Декоративная галька", price: 4500, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRLbQzaSwzNDlh1GyA6E0E1Sq2rLImfnF0wSg&s", unit: "25кг"},
            {id: 104, name: "Бордюрная лента", price: 1000, image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTVEjiVQmj8R-1ftNQL6pZcxPovkrwk6M407Q&s", type: "landscape-product", unit: "15м"},
            {id: 105, name: "Удобрение НПК", price: 3000, image: "https://gallaorolkaliyfosfat.uz/wp-content/uploads/2021/12/apk-news.ru_sunflower_1.jpg", type: "landscape-product", unit: "кг"},
            {id: 106, name: "Кора лиственницы", price: 3500, image: "https://mulcha.kz/cache/imagine/_webp_/460x440/2023-12/kora-listvennicj-2.jpg.webp", type: "landscape-product", unit: "мешок"},
        ];

        // Услуги
        const services = [
            {id: 201, name: "Озеленение участков", price: 50000, image: "https://via.placeholder.com/300x300?text=Озеленение", type: "service", description: "Разработка ландшафтного дизайна, посадка деревьев, создание газонов"},
            {id: 202, name: "Укладка рулонного газона", price: 2500, image: "https://via.placeholder.com/300x300?text=Укладка+газона", type: "service", unit: "м²", description: "Планировка, подготовка почвы, укладка и уход"},
            {id: 203, name: "Гидропосев (гидросев)", price: 2000, image: "https://via.placeholder.com/300x300?text=Гидропосев", type: "service", unit: "м²", description: "Быстрый способ озеленения больших территорий"},
            {id: 204, name: "Монтаж автополива", price: 800000, image: "https://via.placeholder.com/300x300?text=Автополив", type: "service", description: "Установка систем полива Hunter/Rain Bird"},
            {id: 205, name: "Укладка брусчатки", price: 5000, image: "https://via.placeholder.com/300x300?text=Брусчатка", type: "service", unit: "м²", description: "Подготовка основания, укладка плитки"},
            {id: 206, name: "Ландшафтный дизайн", price: 100000, image: "https://via.placeholder.com/300x300?text=Дизайн", type: "service", unit: "100м²", description: "Создание проекта с визуализацией"},
        ];

        // Корзина
        let cart = JSON.parse(localStorage.getItem('cart')) || {};
        let customerData = {};

        // Обновление бейджа корзины
        function updateCartBadge() {
            const totalItems = Object.values(cart).reduce((sum, item) => sum + item.quantity, 0);
            $('#cart-badge').text(totalItems);
        }

        // Добавление товара/услуги в корзину
        function addToCart(item) {
            const itemId = item.id;
            
            if (cart[itemId]) {
                cart[itemId].quantity += 1;
            } else {
                cart[itemId] = {
                    id: item.id,
                    name: item.name,
                    price: item.price,
                    quantity: 1,
                    image: item.image,
                    type: item.type,
                    unit: item.unit || '',
                    description: item.description || ''
                };
            }
            
            // Сохраняем в localStorage
            localStorage.setItem('cart', JSON.stringify(cart));
            
            // Обновляем интерфейс
            updateCartBadge();
            renderCartItems();
            
            // Показываем уведомление
            const toast = $(`
                <div class="toast align-items-center text-white bg-success border-0 position-fixed bottom-0 end-0 m-3" role="alert">
                    <div class="d-flex">
                        <div class="toast-body">
                            "${item.name}" добавлен(а) в корзину
                        </div>
                        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
                    </div>
                </div>
            `);
            
            $('body').append(toast);
            new bootstrap.Toast(toast[0]).show();
            
            // Автоматически скрываем через 3 секунды
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        // Удаление товара из корзины
        function removeFromCart(itemId) {
            if (cart[itemId]) {
                delete cart[itemId];
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartBadge();
                renderCartItems();
            }
        }

        // Изменение количества товара
        function changeQuantity(itemId, change) {
            if (cart[itemId]) {
                cart[itemId].quantity += change;
                
                // Если количество стало 0, удаляем товар
                if (cart[itemId].quantity <= 0) {
                    delete cart[itemId];
                }
                
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartBadge();
                renderCartItems();
            }
        }

        // Отрисовка товаров в корзине
        function renderCartItems() {
            const container = $('#cart-items-container');
            container.empty();
            
            const cartItems = Object.values(cart);
            
            if (cartItems.length === 0) {
                container.html(`
                    <div class="cart-empty p-5">
                        <i class="bi bi-cart-x" style="font-size: 4rem; opacity: 0.2;"></i>
                        <h5 class="mt-3">Ваша корзина пуста</h5>
                        <p class="text-muted">Добавьте товары из каталога</p>
                    </div>
                `);
                $('#cart-total-price').text('0 ₸');
                return;
            }
            
            let totalPrice = 0;
            
            cartItems.forEach(item => {
                const itemTotal = item.price * item.quantity;
                totalPrice += itemTotal;
                
                container.append(`
                    <div class="cart-item border-bottom p-3">
                        <div class="d-flex">
                            <img src="${item.image}" class="cart-item-img me-3" alt="${item.name}">
                            <div class="flex-grow-1">
                                <h6 class="mb-1">${item.name}</h6>
                                ${item.unit ? `<small class="text-muted">${item.unit}</small>` : ''}
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="d-flex align-items-center">
                                        <button class="btn btn-sm btn-outline-secondary" onclick="changeQuantity(${item.id}, -1)">-</button>
                                        <span class="mx-2">${item.quantity}</span>
                                        <button class="btn btn-sm btn-outline-secondary" onclick="changeQuantity(${item.id}, 1)">+</button>
                                    </div>
                                    <div>
                                        <span class="fw-bold">${itemTotal.toLocaleString()} ₸</span>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-link text-danger ms-2" onclick="removeFromCart(${item.id})">
                                <i class="bi bi-trash"></i>
                            </button>
                        </div>
                    </div>
                `);
            });
            
            $('#cart-total-price').text(`${totalPrice.toLocaleString()} ₸`);
        }

        // Отрисовка каталога растений
        function renderPlants() {
            const container = $('#products-container');
            let html = '';
            
            plants.forEach(plant => {
                html += `
                <div class="col-md-3 mb-4">
                    <div class="card product-card h-100">
                        <img src="${plant.image}" class="card-img-top product-img" alt="${plant.name}">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">${plant.name}</h5>
                            <p class="card-text fw-bold">${plant.price.toLocaleString()} ₸</p>
                            <button class="btn btn-success add-to-cart mt-auto" data-id="${plant.id}" data-type="plant">
                                <i class="bi bi-cart-plus me-1"></i> В корзину
                            </button>
                        </div>
                    </div>
                </div>`;
            });
            
            container.html(html);
        }
        
        // Отрисовка ландшафтных товаров
        function renderLandscapeProducts() {
            const container = $('#landscape-products-container');
            let html = '';
            
            landscapeProducts.forEach(product => {
                html += `
                <div class="col-md-3 mb-4">
                    <div class="card product-card h-100">
                        <img src="${product.image}" class="card-img-top product-img" alt="${product.name}">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">${product.name}</h5>
                            <p class="card-text fw-bold">${product.price.toLocaleString()} ₸${product.unit ? `/${product.unit}` : ''}</p>
                            <button class="btn btn-success add-to-cart mt-auto" data-id="${product.id}" data-type="landscape-product">
                                <i class="bi bi-cart-plus me-1"></i> В корзину
                            </button>
                        </div>
                    </div>
                </div>`;
            });
            
            container.html(html);
        }
        
        // Отрисовка услуг
        function renderServices() {
            const container = $('#services-container');
            let html = '';
            
            services.forEach(service => {
                html += `
                <div class="col-md-4 mb-4">
                    <div class="service-card h-100">
                        <div class="service-header">
                            <h4>${service.name}</h4>
                        </div>
                        <div class="service-body">
                            <p class="mb-2">${service.description}</p>
                            <p class="service-price">${service.price.toLocaleString()} ₸${service.unit ? `/${service.unit}` : ''}</p>
                            <button class="btn btn-success add-service-btn add-to-cart" data-id="${service.id}" data-type="service">
                                <i class="bi bi-cart-plus me-1"></i> Добавить в корзину
                            </button>
                        </div>
                    </div>
                </div>`;
            });
            
            container.html(html);
        }
        
        // Отрисовка заказа для подтверждения
        function renderOrderReview() {
            const container = $('#review-items-container');
            container.empty();
            
            const cartItems = Object.values(cart);
            
            if (cartItems.length === 0) return;
            
            let totalPrice = 0;
            let html = '';
            
            cartItems.forEach(item => {
                const itemTotal = item.price * item.quantity;
                totalPrice += itemTotal;
                
                html += `
                <div class="d-flex justify-content-between mb-2">
                    <div>
                        <strong>${item.name}</strong>
                        ${item.unit ? `<div class="text-muted small">${item.unit}</div>` : ''}
                    </div>
                    <div class="text-end">
                        <div>${item.quantity} × ${item.price.toLocaleString()} ₸</div>
                        <div><strong>${itemTotal.toLocaleString()} ₸</strong></div>
                    </div>
                </div>
                <hr>`;
            });
            
            container.html(html);
            $('#review-total-price').text(`${totalPrice.toLocaleString()} ₸`);
            
            // Заполняем данные клиента
            $('#review-name').text(customerData.name);
            $('#review-phone').text(customerData.phone);
            $('#review-email').text(customerData.email || 'не указан');
            $('#review-address').text(customerData.address);
            $('#review-comment').text(customerData.comment || 'нет комментария');
        }

  function sendOrderViaWhatsApp() {
    // Формируем сообщение для WhatsApp
    let message = "Здравствуйте! Я хочу оформить заказ:\n\n";
    message += "*Green Garden*\n\n";
    
    // Добавляем контактные данные
    message += "*Контактная информация:*\n";
    message += `• Имя: ${customerData.name}\n`;
    message += `• Телефон: ${customerData.phone}\n`;
    message += `• Email: ${customerData.email || 'не указан'}\n`;
    message += `• Адрес доставки: ${customerData.address}\n`;
    message += `• Комментарий: ${customerData.comment || 'нет комментария'}\n\n`;
    
    // Добавляем товары с правильным форматированием
    message += "*Состав заказа:*\n";
    const cartItems = Object.values(cart);
    cartItems.forEach(item => {
        message += `- ${item.name}${item.unit ? ` (${item.unit})` : ''}: `;
        message += `${item.quantity} шт. × ${item.price} ₸ = `;
        message += `${item.price * item.quantity} ₸\n`;
    });
    
    // Добавляем итоговую сумму
    const totalPrice = cartItems.reduce((sum, item) => sum + item.price * item.quantity, 0);
    message += `\n*Итого: ${totalPrice} ₸*\n\n`;
    
    // Формируем ссылку WhatsApp с правильным кодированием
    const encodedMessage = encodeURIComponent(message)
        .replace(/'/g, "%27")
        .replace(/\(/g, "%28")
        .replace(/\)/g, "%29")
        .replace(/\*/g, "%2A")
        .replace(/!/g, "%21");
    
    const whatsappUrl = `https://wa.me/77476999431?text=${encodedMessage}`;
    
    // Открываем в новой вкладке
    window.open(whatsappUrl, '_blank');
    
    // Очищаем корзину после оформления
    cart = {};
    localStorage.removeItem('cart');
    updateCartBadge();
    renderCartItems();
    
    // Закрываем модальное окно
    const modal = bootstrap.Modal.getInstance(document.getElementById('checkoutModal'));
    modal.hide();
}
        // Инициализация при загрузке страницы
        $(document).ready(function() {
            renderPlants();
            renderLandscapeProducts();
            renderServices();
            updateCartBadge();
            renderCartItems();
            
            // Обработчик добавления в корзину
            $(document).on('click', '.add-to-cart', function() {
                const itemId = parseInt($(this).data('id'));
                const itemType = $(this).data('type');
                
                let item;
                
                // Находим товар в соответствующем массиве
                if (itemType === 'plant') {
                    item = plants.find(p => p.id === itemId);
                } else if (itemType === 'landscape-product') {
                    item = landscapeProducts.find(p => p.id === itemId);
                } else if (itemType === 'service') {
                    item = services.find(s => s.id === itemId);
                }
                
                if (item) {
                    addToCart(item);
                }
            });
            
            // Обработчик оформления заказа
            $('#checkout-btn').click(function() {
                if (Object.keys(cart).length === 0) {
                    alert('Добавьте товары в корзину перед оформлением заказа');
                    return;
                }
                
                // Сбрасываем форму
                $('#customer-name').val('');
                $('#customer-phone').val('');
                $('#customer-email').val('');
                $('#customer-address').val('');
                $('#customer-comment').val('');
                
                // Показываем первый шаг
                $('#checkout-step-1').show();
                $('#checkout-step-2').hide();
                
                // Обновляем индикатор шагов
                $('.step').removeClass('active');
                $('.step:first').addClass('active');
                
                // Открываем модальное окно
                const modal = new bootstrap.Modal(document.getElementById('checkoutModal'));
                modal.show();
            });
            
            // Переход к подтверждению заказа
            $('#next-to-review').click(function() {
                // Собираем данные клиента
                customerData = {
                    name: $('#customer-name').val(),
                    phone: $('#customer-phone').val(),
                    email: $('#customer-email').val(),
                    address: $('#customer-address').val(),
                    comment: $('#customer-comment').val()
                };
                
                // Проверка обязательных полей
                if (!customerData.name || !customerData.phone || !customerData.address) {
                    alert('Пожалуйста, заполните все обязательные поля (имя, телефон и адрес)');
                    return;
                }
                
                // Отрисовываем подтверждение заказа
                renderOrderReview();
                
                // Переключаем на второй шаг
                $('#checkout-step-1').hide();
                $('#checkout-step-2').show();
                
                // Обновляем индикатор шагов
                $('.step').removeClass('active');
                $('.step:last').addClass('active');
            });
            
            // Возврат к форме
            $('#back-to-form').click(function() {
                $('#checkout-step-1').show();
                $('#checkout-step-2').hide();
                
                // Обновляем индикатор шагов
                $('.step').removeClass('active');
                $('.step:first').addClass('active');
            });
            
            // Подтверждение заказа
            $('#confirm-order').click(sendOrderViaWhatsApp);
        });
    </script>

<style>
        /* Стили для портфолио */
.portfolio-item {
    transition: all 0.3s ease;
    height: 250px;
    overflow: hidden;
}

.portfolio-item img {
    transition: transform 0.5s ease;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.portfolio-item:hover img {
    transform: scale(1.05);
}

.portfolio-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(40, 167, 69, 0.85);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.portfolio-item:hover .portfolio-overlay {
    opacity: 1;
}
</style>
</body>
</html>
